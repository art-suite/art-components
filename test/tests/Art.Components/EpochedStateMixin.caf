import &StandardImport

suite: ->
  chainedTest ->
    class MyEpochedState extends EpochedStateMixin BaseClass

      constructor: ->
        @_instantiateState()

    new MyEpochedState

  .tapTest
    :setState (myEpochedState)->
      assert.doesNotExist myEpochedState.state.foo
      myEpochedState.setState foo: 123
      assert.doesNotExist myEpochedState.state.foo
      myEpochedState.onNextReady ->
        assert.selectedEq
          foo: 123
          myEpochedState.state